<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Tracker</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border: 1px solid #ddd;
        }
        th {
            background-color: #f4f4f4;
        }
    </style>
</head>
<body>
    <h1>Games List</h1>
    <table id="gamesTable">
        <thead>
            <tr>
                <th>Title</th>
                <th>Platform</th>
                <th>Completed</th>
                <th>Comment</th>
                <th>YouTube Link</th>
                <th>Reference</th>
                <th>Runback</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be inserted here by JavaScript -->
        </tbody>
    </table>

    <script>
        // Fetch the JSON file (adjust the file path if needed)
        fetch('http://localhost:8080/data/gameTable.json', { method : 'GET'})
        .then(response => response.json())  // Parse the JSON
        .then(data => {
            // Access the array of games from the JSON
            const games = data;

            // Get the table body element
            const tableBody = document.getElementById('gamesTable').getElementsByTagName('tbody')[0];

            // Loop through the games and create a table row for each
            games.forEach(game => {
                const row = document.createElement('tr');

                // Create table data cells for each game property
                const titleCell = document.createElement('td');
                titleCell.textContent = game.gameTitle;
                row.appendChild(titleCell);

                const platformCell = document.createElement('td');
                platformCell.textContent = game.system;
                row.appendChild(platformCell);

                const completedCell = document.createElement('td');
                const completedCheckbox = document.createElement('input');
                completedCheckbox.type = 'checkbox';
                completedCheckbox.checked = game.gameCompleted;
                completedCell.appendChild(completedCheckbox);
                row.appendChild(completedCell);

                const commentCell = document.createElement('td');
                commentCell.textContent = game.comments;
                row.appendChild(commentCell);

                const youtubeLinkCell = document.createElement('td');
                youtubeLinkCell.textContent = game.youtubeLink;
                row.appendChild(youtubeLinkCell);

                const referenceCell = document.createElement('td');
                referenceCell.textContent = game.referencedBy;
                row.appendChild(referenceCell);

                const runBackCell = document.createElement('td');
                const runBackCheckbox = document.createElement('input');
                runBackCheckbox.type = 'checkbox';
                runBackCheckbox.checked = game.runAgain; // Set the checkbox based on the value
                runBackCell.appendChild(runBackCheckbox);
                row.appendChild(runBackCell);

                // Append the row to the table
                tableBody.appendChild(row);
            });
        })
        .catch(error => {
            console.error('Error loading the JSON file:', error);
        });
    </script>
</body>
</html>